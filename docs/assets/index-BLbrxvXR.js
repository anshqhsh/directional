import{r as f,j as g}from"./index-DJwDln9w.js";import{g as v,c as r,E as b,e as S}from"./chart-colors-BOevQg0J.js";function A({data:i}){const d=f.useMemo(()=>{if(!i||!i.teams||i.teams.length===0)return{title:{text:"데이터가 없습니다"},xAxis:{type:"value"},yAxis:[{type:"value"},{type:"value"}],series:[]};const m=v(),h=i.teams,x=new Set;h.forEach(t=>{t.series.forEach(c=>{x.add(c.cups)})});const n=[];return h.forEach((t,c)=>{const l=m[c%m.length],a=[...t.series].sort((e,o)=>e.cups-o.cups),y=a.map(e=>e.cups),p=a.map(e=>e.bugs),s=a.map(e=>e.productivity);n.push({name:`${t.team} - 버그 수`,type:"line",yAxisIndex:0,data:p.map((e,o)=>[y[o],e]),lineStyle:{color:l,width:2,type:"solid"},itemStyle:{color:l},symbol:"circle",symbolSize:8,connectNulls:!1}),n.push({name:`${t.team} - 생산성`,type:"line",yAxisIndex:1,data:s.map((e,o)=>[y[o],e]),lineStyle:{color:l,width:2,type:"dashed"},itemStyle:{color:l},symbol:"rect",symbolSize:8,connectNulls:!1})}),{tooltip:{trigger:"axis",axisPointer:{type:"cross"},formatter:t=>{if(!t||t.length===0)return"";const l=t[0].value,a=Array.isArray(l)?l[0]:0,y=t.filter(e=>e.seriesName.includes("버그 수")),p=t.filter(e=>e.seriesName.includes("생산성"));let s=`
            
              <div style="font-weight: 600; color: #374151; margin-bottom: 4px;">커피 잔수: ${a}잔/일</div>
          `;return y.forEach(e=>{const o=e.value;if(o!==null&&Array.isArray(o)){const u=e.seriesName.replace(" - 버그 수","");s+=`
                <div style="color: #6b7280; margin-bottom: 2px;">
                  <span style="display: inline-block; width: 10px; height: 10px; background: ${e.color}; border-radius: 50%; margin-right: 6px;"></span>
                  ${u} - 버그 수: ${Math.round(o[1])}
                </div>
              `}}),p.forEach(e=>{const o=e.value;if(o!==null&&Array.isArray(o)){const u=e.seriesName.replace(" - 생산성","");s+=`
                <div style="color: #6b7280; margin-bottom: 2px;">
                  <span style="display: inline-block; width: 10px; height: 10px; background: ${e.color}; margin-right: 6px;"></span>
                  ${u} - 생산성: ${Math.round(o[1])}점
                </div>
              `}}),s},backgroundColor:"white",borderColor:"transparent",textStyle:{color:"transparent"}},legend:{show:!0,data:n.map(t=>t.name),top:"5%",left:"center",textStyle:{color:r["gray-700"],fontSize:12},itemWidth:14,itemHeight:14,type:"scroll"},grid:{left:"5%",right:"5%",bottom:"5%",top:"20%",containLabel:!0},xAxis:{type:"value",name:"커피 섭취량 (잔/일)",nameLocation:"middle",nameGap:30,min:1,nameTextStyle:{color:r["gray-500"]},axisLabel:{color:r["gray-500"],formatter:"{value}잔"},axisLine:{lineStyle:{color:r["gray-200"]}},splitLine:{show:!0,lineStyle:{color:r["gray-200"],opacity:.3}}},yAxis:[{type:"value",name:"버그 수",nameTextStyle:{color:r["gray-500"]},position:"left",axisLabel:{color:r["gray-500"],formatter:"{value}"},axisLine:{lineStyle:{color:r["gray-200"]}},splitLine:{lineStyle:{color:r["gray-200"],opacity:.3}}},{type:"value",name:"생산성 점수",nameTextStyle:{color:r["gray-500"]},position:"right",min:0,max:100,axisLabel:{color:r["gray-500"],formatter:"{value}점"},axisLine:{lineStyle:{color:r["gray-200"]}},splitLine:{show:!1}}],series:n,color:m}},[i]);return g.jsx("div",{className:"w-full h-full",children:g.jsx(b,{echarts:S,option:d,style:{height:"100%",width:"100%"},notMerge:!0,lazyUpdate:!0})})}export{A as CoffeeConsumptionMultiLineChart};
